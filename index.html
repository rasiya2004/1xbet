<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>1xBet Crash Game Data Display</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  #output { white-space: pre-wrap; background: #f0f0f0; padding: 10px; border: 1px solid #ccc; height: 400px; overflow-y: scroll; }
  .round { margin-bottom: 15px; padding: 10px; background: #fff; border-radius: 5px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
  .multiplier { font-weight: bold; font-size: 1.2em; color: green; }
  .timestamp { color: #666; font-size: 0.8em; }
</style>
</head>
<body>
<h2>1xBet Crash Game Live Data</h2>
<div id="output">Connecting to WebSocket...</div>

<script>
const output = document.getElementById('output');

const ws = new WebSocket('wss://1xbet.lk/games-frame/sockets/crash?ref=1&gr=911&whence=55&fcountry=208&appGuid=games-web-app-default-web-v3&lng=en&v=1.5)}&access_token=eyJhbGciOiJFUzI1NiIsImtpZCI6IjEiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiI1MC8xMzY4OTcwMzk1IiwicGlkIjoiMSIsImp0aSI6IjAvNDllNDY4MzBiY2QyNTNiMTNkMGZkOGJmYzIxODk0ZDM3NDY0MDI5YmFkOTMwNzRiYmIzMTkzYjc3NDhiNzc0OCIsImFwcCI6Ik5BIiwiaW5uZXIiOiJ0cnVlIiwibmJmIjoxNzU4MjAxNzg4LCJleHAiOjE3NTgyMTYxODgsImlhdCI6MTc1ODIwMTc4OH0.iVqSy-a5TdEO3hm4_4RczgCV0SArgacAtAO80q7MjobD6uY6JhKf5OV05J95V-Oug0dax96tLXmtIUyppPtYyg');

ws.onopen = () => {
  output.textContent = 'Connected to 1xBet crash game WebSocket\n';
};

ws.onmessage = (event) => {
  try {
    // Attempt to parse JSON message
    const msg = JSON.parse(event.data);

    // Example assumed structure (adjust parsing per actual message):
    // { roundId, multiplier, timestamp }
    // This is hypothetical and should be adapted if known
    
    const roundId = msg.roundId || msg.id || 'unknown';
    const multiplier = msg.multiplier || msg.crash || 'N/A';
    const timestamp = new Date(msg.timestamp || Date.now()).toLocaleTimeString();

    const roundDiv = document.createElement('div');
    roundDiv.className = 'round';
    roundDiv.innerHTML = `<div>Round ID: ${roundId}</div>
                          <div class="multiplier">Crash Multiplier: ${multiplier}x</div>
                          <div class="timestamp">Time: ${timestamp}</div><hr>`;
    output.appendChild(roundDiv);
    output.scrollTop = output.scrollHeight;

  } catch(e) {
    // If not JSON or unknown format, print raw text for inspection
    const rawDiv = document.createElement('div');
    rawDiv.textContent = event.data;
    rawDiv.style.color = 'red';
    output.appendChild(rawDiv);
    output.scrollTop = output.scrollHeight;
  }
};

ws.onerror = (err) => {
  output.textContent += '\nWebSocket error: ' + err.message;
};

ws.onclose = () => {
  output.textContent += '\nConnection to WebSocket closed.';
};
</script>
</body>
</html>
